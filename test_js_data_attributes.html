<!DOCTYPE html>
<html>
<head>
    <title>Test JS Data Attributes</title>
    <script>
        function testAttributes() {
            // Simulate what happens in the saveReservationNote function
            const button = document.getElementById('test-button');
            const urunKodu = button.getAttribute('data-urun-kodu');
            const renk = button.getAttribute('data-renk');
            
            console.log('Product Code:', urunKodu);
            console.log('Color:', renk);
            console.log('Color type:', typeof renk);
            console.log('Color repr:', JSON.stringify(renk));
            
            // Test with null value
            const nullRenk = renk || null;
            console.log('Processed color (renk || null):', nullRenk);
            console.log('Processed color type:', typeof nullRenk);
            
            // Test with empty string
            const emptyRenk = renk === '' ? null : renk;
            console.log('Processed color (empty check):', emptyRenk);
            console.log('Processed color type:', typeof emptyRenk);
        }
    </script>
</head>
<body>
    <h1>Test JS Data Attributes</h1>
    
    <div class="input-group">
        <input type="text" class="form-control rezervasyon-notu" 
               data-urun-kodu="1031" 
               data-renk="PRES" 
               value="Test reservation note for real product">
        <button id="test-button" class="btn btn-outline-primary btn-sm rezervasyon-kaydet" 
                data-urun-kodu="1031" 
                data-renk="PRES">
            Test Button
        </button>
    </div>
    
    <div class="input-group" style="margin-top: 20px;">
        <input type="text" class="form-control rezervasyon-notu" 
               data-urun-kodu="1033" 
               data-renk="" 
               value="">
        <button id="test-button2" class="btn btn-outline-primary btn-sm rezervasyon-kaydet" 
                data-urun-kodu="1033" 
                data-renk="">
            Test Button (Empty Color)
        </button>
    </div>
    
    <button onclick="testAttributes()" style="margin-top: 20px;">Test Attributes</button>
</body>
</html>